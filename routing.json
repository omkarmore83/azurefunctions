{
    "routes": [
        {
            "path-prefix": "/test",
            "http-methods": [
                "GET"
            ],
            "target-uri": "https://httpbin.org/get",
            "request-pipeline": [
                {
                    "set-query-parameters": {
                        "myvalue": "@(context.Request.Headers.GetValueOrDefault(\"name\",\"\"))"
                    }
                },
                {
                    "set-headers": {
                        "myvalue": "@(context.Request.Url.Query.GetValueOrDefault(\"name\",\"\"))"
                    }
                }
            ],
            "response-pipeline": [
                {
                    "set-headers": {
                        "newheader1": "seattle"
                    }
                }
            ]
        },
        {
            "path-prefix": "/admin",
            "http-methods": [
                "ANY"
            ],
            "target-uri": "https://%%WEBSITE_HOSTNAME%%/admin"
        },
        {
            "path-prefix": "/admin/{*rest}",
            "http-methods": [
                "ANY"
            ],
            "target-uri": "https://%%WEBSITE_HOSTNAME%%/admin/{rest}"
        }
    ]
}